!function(e,t){"use strict";function n(e,t){var n="0b11e0487c4df7fbe1d9a17257daf7ea44fb9fb22f30e43b7527e88a8323bd368a59f46fa989b8c8bbd729e133c136d2b6d5f011306a1f46fdc0b555834eefdd06c4cf6974ac5be2de0d0d684c3b9d43394dae1ae043f4429964fd263a430b470ea837f173fb6bb9e1147a28a48aadd4",a="https://api.keen.io/3.0/projects/5420ed2133e40617e09857ce/events/";gc.loadJSON(a+e+"?api_key="+n+"&data="+o(t))["catch"](function(){}),console.log("Tracking Keen.io event",e,t)}function o(e){return encodeURIComponent(btoa(JSON.stringify(e)))}function a(){var n=e.location.pathname.split("/").filter(Boolean)[0],o=t.body.className.match(/postid-(\d+)/),a=2===o.length&&o[1],c=n+"-"+a,r=5;a&&setTimeout(function(){gc.loadJSON("https://services.goshen.edu/readcounts/increment/?id="+c)},1e3*r)}function c(){function e(e){function t(e){if("string"==typeof e){var t=e.split("--");if(2===t.length&&"read-count"===t[0])return t[1]}return!1}for(var n,o=0;o<e.classList.length;o++)if(n=e.classList.item(o),t(n))return t(n);return t(e.id)?t(e.id):""}function n(e){return(e+"").replace(/(\d)(?=(\d{3})+$)/g,"$1,")}for(var o="https://services.goshen.edu/readcounts/fetch/?ids=",a=t.querySelectorAll(".read-count:not(.read-count--setup)"),c=[],r=50,i=0;i<a.length;i++)c.push(e(a[i]));c=c.filter(Boolean),0!==c.length&&(o+=c.join(","),gc.loadJSON(o).then(function(t){if(!t||!t.success||!t.data)return void console.error("Unable to get read count(s)",t);for(var o=0;o<a.length;o++){var c,i,d=a[o],s=e(d);c=t.data.filter(function(e){return e.id===s}),i=1===c.length&&parseInt(c[0].count),i===!1?d.innerHTML="<!-- No read count recorded -->":i>=r?(d.innerHTML='Read <strong class="read-count__number">'+n(i)+"</strong> times",d.classList.add("read-count--visible")):d.innerHTML="<!-- Low read count recorded: "+i+" -->",d.classList.add("read-count--setup")}})["catch"](function(e){console.error("Unable to fetch read count",e)}))}gc.scripts.jquery.then(function(){$("#gn").on("click",".modal__content .gn__link",function(){var t={dropdown:$(this).parents(".modal").attr("id").split("--")[1],text:this.textContent,link:this.href,currentPage:e.location.href};n("clickedLink",t)})}),"www.goshen.edu"===e.location.hostname&&t.body.classList.contains("single-post")&&t.getElementsByClassName("read-count").length&&a(),gc.getReadCounts=c,c()}(window,document);
//# sourceMappingURL=../sourcemaps/keen.io-analytics.min.js.map
